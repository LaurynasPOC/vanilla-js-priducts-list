import { formatDate, formatPrice } from "../../utils/helpers";

export const generateProductHTML = (products) => {
  let html = "";
  products.forEach((product) => {
    const formattedDate = formatDate(product.modifiedAt);
    const formattedPrice = formatPrice(product.price);

    const greyClass = formattedPrice === "0.0" ? "grey" : "";

    html += `
        <div class="product" data-product-id="${product.id}">   
          <div class='image-wrapper'>
            <img class="checkedProduct" src=${product.imageUrl} alt=${product.title}/> 
          </div>
          <div>
            <div class="checkbox-wrapper">
              <input type="checkbox" class="checkbox productCheckbox"/>
              <span class="custom-checkbox"></span>
            </div>
            <div>
              <img  src=${product.imageUrl} alt=${product.title} />
              <div>
                <h5>${product.title}</h5>
                <a href=${product.url} target>${product.url}</a>
                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                  <path d="M6.66671 10C6.66671 10.9205 5.92052 11.6667 5.00004 11.6667C4.07957 11.6667 3.33337 10.9205 3.33337 10C3.33337 9.07954 4.07957 8.33334 5.00004 8.33334C5.92052 8.33334 6.66671 9.07954 6.66671 10Z" fill="#6F767E"/>
                  <path d="M11.6667 10C11.6667 10.9205 10.9205 11.6667 10 11.6667C9.07957 11.6667 8.33337 10.9205 8.33337 10C8.33337 9.07954 9.07957 8.33334 10 8.33334C10.9205 8.33334 11.6667 9.07954 11.6667 10Z" fill="#6F767E"/>
                  <path d="M16.6667 10C16.6667 10.9205 15.9205 11.6667 15 11.6667C14.0796 11.6667 13.3334 10.9205 13.3334 10C13.3334 9.07954 14.0796 8.33334 15 8.33334C15.9205 8.33334 16.6667 9.07954 16.6667 10Z" fill="#6F767E"/>
                </svg>
              </div>
            </div>
            <div>
              <p class="green-price ${greyClass}">$${formattedPrice}</p>
            </div>
            <div class="date">
              <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path fill-rule="evenodd" clip-rule="evenodd" d="M10 16.6667C13.6819 16.6667 16.6667 13.6819 16.6667 10C16.6667 6.31811 13.6819 3.33334 10 3.33334C6.31812 3.33334 3.33335 6.31811 3.33335 10C3.33335 13.6819 6.31812 16.6667 10 16.6667ZM10 18.3333C14.6024 18.3333 18.3334 14.6024 18.3334 10C18.3334 5.39763 14.6024 1.66667 10 1.66667C5.39765 1.66667 1.66669 5.39763 1.66669 10C1.66669 14.6024 5.39765 18.3333 10 18.3333Z" fill="#9A9FA5"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M10 5C10.4603 5 10.8334 5.3731 10.8334 5.83333V9.65482L12.6726 11.4941C12.998 11.8195 12.998 12.3472 12.6726 12.6726C12.3472 12.998 11.8195 12.998 11.4941 12.6726L9.65484 10.8333C9.34228 10.5208 9.16669 10.0968 9.16669 9.65482V5.83333C9.16669 5.3731 9.53978 5 10 5Z" fill="#9A9FA5"/>
              </svg>
              ${formattedDate}
            </div>
            <div>
              <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="36" height="36" rx="18" fill="#FCFCFC"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M13.8333 9.66667C14.2936 9.66667 14.6667 10.0398 14.6667 10.5V11.3333H21.3333V10.5C21.3333 10.0398 21.7064 9.66667 22.1667 9.66667C22.6269 9.66667 23 10.0398 23 10.5V11.3333H23.8333C25.214 11.3333 26.3333 12.4526 26.3333 13.8333V23.8333C26.3333 25.2141 25.214 26.3333 23.8333 26.3333H12.1667C10.7859 26.3333 9.66666 25.2141 9.66666 23.8333V13.8333C9.66666 12.4526 10.7859 11.3333 12.1667 11.3333H13V10.5C13 10.0398 13.3731 9.66667 13.8333 9.66667ZM21.3333 13V13.8333C21.3333 14.2936 21.7064 14.6667 22.1667 14.6667C22.6269 14.6667 23 14.2936 23 13.8333V13H23.8333C24.2936 13 24.6667 13.3731 24.6667 13.8333V16.3333H11.3333V13.8333C11.3333 13.3731 11.7064 13 12.1667 13H13V13.8333C13 14.2936 13.3731 14.6667 13.8333 14.6667C14.2936 14.6667 14.6667 14.2936 14.6667 13.8333V13H21.3333ZM11.3333 18V23.8333C11.3333 24.2936 11.7064 24.6667 12.1667 24.6667H23.8333C24.2936 24.6667 24.6667 24.2936 24.6667 23.8333V18H11.3333Z" fill="#6F767E"/>
              </svg>
              <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="36" height="36" rx="18" fill="#FCFCFC"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M20.1129 11.173C21.0893 10.1967 22.6722 10.1967 23.6485 11.173L24.827 12.3515C25.8033 13.3278 25.8033 14.9107 24.827 15.887L16.1666 24.5475C16.0502 24.6638 15.9021 24.7431 15.7407 24.7754L11.3213 25.6592C10.7382 25.7759 10.2241 25.2618 10.3407 24.6787L11.2246 20.2592C11.2569 20.0979 11.3362 19.9498 11.4525 19.8334L20.1129 11.173ZM22.47 12.3515L23.6485 13.53C23.9739 13.8555 23.9739 14.3831 23.6485 14.7085L22.47 15.887L20.1129 13.53L21.2915 12.3515C21.6169 12.0261 22.1445 12.0261 22.47 12.3515ZM18.9344 14.7085L12.8094 20.8335L12.2202 23.7798L15.1665 23.1905L21.2915 17.0656L18.9344 14.7085Z" fill="#6F767E"/>
              </svg>
              <svg width="36" height="36" viewBox="0 0 36 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                <rect width="36" height="36" rx="18" fill="#FCFCFC"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M16.3333 16.3333C16.7936 16.3333 17.1667 16.7064 17.1667 17.1667V21.3333C17.1667 21.7936 16.7936 22.1667 16.3333 22.1667C15.8731 22.1667 15.5 21.7936 15.5 21.3333V17.1667C15.5 16.7064 15.8731 16.3333 16.3333 16.3333Z" fill="#6F767E"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M19.6667 16.3333C20.1269 16.3333 20.5 16.7064 20.5 17.1667V21.3333C20.5 21.7936 20.1269 22.1667 19.6667 22.1667C19.2064 22.1667 18.8333 21.7936 18.8333 21.3333V17.1667C18.8333 16.7064 19.2064 16.3333 19.6667 16.3333Z" fill="#6F767E"/>
                <path fill-rule="evenodd" clip-rule="evenodd" d="M16.3333 9.66667C14.9526 9.66667 13.8333 10.786 13.8333 12.1667H11.3333H10.5C10.0398 12.1667 9.66666 12.5398 9.66666 13C9.66666 13.4602 10.0398 13.8333 10.5 13.8333H11.3333V23.8333C11.3333 25.214 12.4526 26.3333 13.8333 26.3333H22.1667C23.5474 26.3333 24.6667 25.214 24.6667 23.8333V13.8333H25.5C25.9602 13.8333 26.3333 13.4602 26.3333 13C26.3333 12.5398 25.9602 12.1667 25.5 12.1667H24.6667H22.1667C22.1667 10.786 21.0474 9.66667 19.6667 9.66667H16.3333ZM20.5 12.1667C20.5 11.7064 20.1269 11.3333 19.6667 11.3333H16.3333C15.8731 11.3333 15.5 11.7064 15.5 12.1667H20.5ZM13.8333 13.8333H13V23.8333C13 24.2936 13.3731 24.6667 13.8333 24.6667H22.1667C22.6269 24.6667 23 24.2936 23 23.8333V13.8333H22.1667H13.8333Z" fill="#6F767E"/>
              </svg>
            </div>
          </div>
        </div>     
        `;
  });
  return html;
};
